// æ”¹å¥½äº†åˆ æ³¨é‡Š
import router from '@ohos.router'
//å®¶åº­æˆå‘˜
interface data {
  image_d: ResourceStr | string,
  text_d: string
}

interface ParamObj {
  icon_p: string,
  name_p:string
}


@Entry
@Component
struct Family_inf_Page {
  //å›žåˆ°é¡¶éƒ¨æŒ‰é’®å¯¹è±¡
  myScroll : Scroller = new Scroller()
  //æ»šåŠ¨ç›‘å¬å¯¹è±¡
  @State
  yOffset:number = 0

  //æŽ¥å—ä¸Šä¸€çº§é¡µé¢ä¼ é€’è¿‡æ¥çš„å‚æ•°
  @State icon: string = ''
  @State name: string = ''
  onPageShow(): void {
    const params = router.getParams() as ParamObj
    this.icon = params.icon_p
    this.name = params.name_p
  }

  //è‡ªå®šä¹‰æœ‹å‹åœˆåˆ—è¡¨
  @Builder
  navItem(icon_d:ResourceStr | string, name_d:string){
    Row({space:20}){
      Image(icon_d)
        .width(90)
        .height(90)
        .borderRadius(5)
        .margin({bottom:10})
      Text(name_d)
        .width('60%')
    }
    .width('90%')
  }

  //è‡ªå®šä¹‰æ•°æ®æ•°ç»„

  @State data1:data[] = [
  //å®¶åº­æˆå‘˜1
    {image_d: $r('app.media.pyq1'),text_d:'ä»Šæ—¥æ­¥æ•°è¾¾æ ‡ âœ… èµ°ç€èµ°ç€ï¼Œå¥åº·å°±æ¥äº†ã€‚'}]
  //å®¶åº­æˆå‘˜2
  @State data2:data[] = [
    {image_d: $r('app.media.pyq2'),text_d:'æ—©ç¡æ—©èµ·ç¬¬ä¸€å¤©ï¼ŒæŒ‘æˆ˜å¼€å§‹ï½ž'},]
  //å®¶åº­æˆå‘˜3
  @State data3:data[] = [
    {image_d: $r('app.media.pyq3'),text_d:'åƒå¾—å¹²å‡€ï¼Œç¡å¾—è¸å®žï¼ŒçŠ¶æ€æ»¡åˆ†ðŸ’¯'},]

  //å®¶åº­æˆå‘˜4
  @State data4:data[] = [
    {image_d: $r('app.media.pyq4'),text_d:'è¿åŠ¨30åˆ†é’Ÿï¼Œå‡ºæ±—çœŸçˆ½ï¼åšæŒå°±æ˜¯èƒœåˆ©!'},]
  //å®¶åº­æˆå‘˜5
  @State data5:data[] = [
    {image_d: $r('app.media.pyq5'),text_d:'å–æ°´æ‰“å¡ðŸ’§èº«ä½“çš„è‡ªæˆ‘ä¿®å¤ï¼Œä»Žè¡¥æ°´å¼€å§‹ã€‚'},]
  //å®¶åº­æˆå‘˜6-xjj
  @State data6:data[] = [
    {image_d:$r('app.media.pyq7'),text_d:'è·³ä¸€æ”¯èˆžï¼Œè¿½é€è‡ªç”±çš„æ°”æ¯ã€‚'},
    {image_d:$r('app.media.pyq8'),text_d:'å’Œæœ‹å‹è®­ç»ƒä¸€ä¸‹â™‚ã€‚'},
    {image_d:$r('app.media.pyq9'),text_d:'è¿™ä½å…„å¼Ÿé‚€è¯·æˆ‘åŽ»ä»–å®¶åœ°ä¸‹å®¤ï¼ŒåŽ»ä¸åŽ»ï¼Ÿâ™‚'}]
  //å®¶åº­æˆå‘˜7
  @State data7:data[] = [
    {image_d: $r('app.media.pyq3'),text_d:'æ‹’ç»å¤–å–ç¬¬7å¤©ï¼å¥åº·é¥®é£ŸçœŸçš„ä¸éš¾ã€‚'},]
  //å®¶åº­æˆå‘˜8
  @State data8:data[] = [
    {image_d: $r('app.media.pyq2'),text_d:'ä¸€è§‰åˆ°å¤©äº®ï¼Œè¿™ç§è‡ªç„¶é†’çš„æ„Ÿè§‰å¤ªæ£’äº†ðŸ˜´'},]
  //å®¶åº­æˆå‘˜9
  @State data9:data[] = [
    {image_d: $r('app.media.pyq1'),text_d:'å¥åº·ä¸æ˜¯ä¸€é˜µå­ï¼Œæ˜¯ä¸€è¾ˆå­çš„äº‹ã€‚æ…¢æ…¢æ¥ï¼Œæˆ‘ä»¬éƒ½èƒ½åšåˆ°ï½ž'},]
  //å®¶åº­æˆå‘˜10
  @State data10:data[] = [
    {image_d: $r('app.media.pyq2'),text_d:'åšæŒè®°å½•é¥®é£ŸåŽæ‰å‘çŽ°ï¼Œå˜´å·´æ˜¯å¥åº·çš„ç¬¬ä¸€é“å…³å£ã€‚'},]
  @State data11:data[] = [
    {image_d: $r('app.media.pyq3'),text_d:'åˆé¥­åªåƒä¸ƒåˆ†é¥±ï¼Œä¸‹åˆå·¥ä½œæ•ˆçŽ‡æ›´é«˜äº†ðŸ‘'},]

  build(){
    Stack({alignContent:Alignment.TopStart}) {
      //æ ‡é¢˜å¯¼èˆªæ 
      Row({space:100}){
        Image($r('app.media.back'))
          .width(30)
          .height(20)
          .margin({left:20})
          .onClick(()=>{
            router.back()
          })
        Text('å®¶åº­æˆå‘˜')
      }
      .width('100%')
      .height(70)
      .backdropBlur(50)
      .zIndex(999)

      //ç½®é¡¶å›¾æ ‡
      if(this.yOffset>400){
        Image($r('app.media.rocket'))
          .width(40)
          .borderRadius(20)
          .padding(5)
          .offset({x:300,y:600})
          .onClick(()=>{
            this.myScroll.scrollEdge(Edge.Top)
          })
          .zIndex(8888)
      }

      //ä¸»æ˜¾ç¤ºé¡µé¢
      Scroll(this.myScroll){

        Column(){
          Image($r('app.media.bg2'))
            .width('100%')
            .height(200)
            .margin({bottom:40})
          Column({space:5}) {
            Image(this.icon)
              .width(80)
              .height(80)
              .borderRadius(10)
            Text(this.name)
          }
          .position({x:270,y:150})
          if (this.name == 'æ‰‹æ¡æ—¥æœˆæ‘˜æ˜Ÿè¾°') {
            ForEach(this.data1,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'zzz') {
            ForEach(this.data2,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'è“æ”¶') {
            ForEach(this.data3,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'Xx-LE') {
            ForEach(this.data4,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'ä½åŠ©') {
            ForEach(this.data5,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'é¦™è•‰å›') {
            ForEach(this.data6,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'è½èŠ·') {
            ForEach(this.data7,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'K.') {
            ForEach(this.data8,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'è·³è·³é¬¼') {
            ForEach(this.data9,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else if (this.name == 'Î³') {
            ForEach(this.data10,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          } else {
            ForEach(this.data11,(item:data,index)=>{
              this.navItem(item.image_d,item.text_d)
            })
          }

        }
        .width('100%')
        .margin({top:60})

      }
      .onScroll(()=>{
        this.yOffset = this.myScroll.currentOffset().yOffset
      })

    }
    .backgroundImage($r('app.media.a'))
    .backgroundImagePosition(Alignment.Center)
    .backgroundImageSize(ImageSize.Cover)
    .height('100%')
  }

}